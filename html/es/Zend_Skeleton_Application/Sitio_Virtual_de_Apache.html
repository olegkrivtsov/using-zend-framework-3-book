<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free and open-source book about Zend Framework">
<meta name="keywords" content="php,zend framework,book,tutorial,documentation,learn,free">
<meta name="author" content="(c) 2018 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>Sitio Virtual de Apache &ndash; Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free and open-source book about Zend Framework            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Home</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/zf3-api-reference/html/">Class Reference</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="../Zend_Skeleton_Application/Dependencias_de_la_Aplicación.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Zend_Skeleton_Application/Abrir_el_Sitio_Web_en_Nuestro_Navegador_Web.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>
        <div class="current-chapter">
        <a href="../Zend_Skeleton_Application.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Zend Skeleton Application</span>
        </a>
    </div>
    </div>

﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Book - Chapter - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="4531860323"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Chapter content -->
<div id="chapter_content">
<div class="incomplete-translation">
    Translation into this language is not yet finished. You can help this project 
    by translating the chapters and contributing your changes.
</div>

<h2 id="Sitio_Virtual_de_Apache">2.4. Sitio Virtual de Apache</h2>
<p>¡Ahora estamos casi listos para que nuestra aplicación <em>skeleton</em> viva! La
última cosa que tenemos que hacer es configurar el sitio virtual de Apache.
El termino sitio virtual significa que podemos ejecutar varios sitios web en
la misma computadora. Los sitios virtuales se diferencian por el nombre de
dominio (como <code>site.mydomain.com</code> y <code>site2.mydomain.com</code>) o por el número de
puerto (como <code>localhost</code> y <code>localhost:8080</code>). Los sitios virtuales funcionan
de manera transparente para los usuarios, esto significa que los usuarios
no tienen la menor idea de si el sitio esta funcionando sobre la misma o sobre
diferentes computadoras.</p>
<p>Actualmente tenemos a la aplicación <em>skeleton</em> dentro del directorio <code>home</code>.
Para que Apache lo sepa, necesitamos editar el archivo de configuración
del sitio virtual.</p>
<blockquote class="notquote information" data-type="information"><p> El archivo para el sitio virtual puede estar localizado en diferentes rutas
 dependiendo del sistema operativo. Por ejemplo, en Ubuntu GNU/Linux está
 ubicado en <code>/etc/apache2/sites-available/000-default.conf</code>. Para
 información sobre sitios virtuales específicos por sistema operativo
 podemos revisar el <a target="_blank" href="../Apéndice_A__Configurar_el_Entorno_de_Desarrollo_Web.html">Apéndice A. Configuración del Entorno de Desarrollo Web</a>.</p>
</blockquote><p>Vamos a editar el sitio virtual por defecto para dejarlo de la siguiente manera
(asumimos que usamos Apache 2.4):</p>
<pre class="line-numbers"><code class="language-text">&lt;VirtualHost *:80&gt;
    ServerAdmin webmaster@localhost

    DocumentRoot /home/username/helloworld/public

	&lt;Directory /home/username/helloworld/public/&gt;
        DirectoryIndex index.php
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;

&lt;/VirtualHost&gt;
</code></pre>
<p>En la línea 1 se indica a Apache que escuche por todas las direcciones IP (*)
y por el puerto 80.</p>
<p>La línea 2 define el correo electrónico del administrador web. Si algo malo
pasa en el sitio. Apache envía una alerta por correo electrónico a esta
dirección. Podemos colocar nuestra dirección de correo electrónico aquí.</p>
<p>La línea 4 define el directorio raíz de documentos (<code>APP_DIR/public</code>). Todos
los archivos y carpetas dentro del la raíz de documentos serán accesibles
para los usuarios web. Debemos colocar allí la ruta absoluta a la carpeta
<code>public</code> de la aplicación <em>skeleton</em>. Así, las carpetas y archivos dentro
de <code>public</code> (como <code>index.php</code>, <code>css</code>, <code>js</code>, etc.) serán accesibles mientras
que las carpetas y archivos por encima de la carpeta <code>public</code> (como <code>config</code>,
<code>module</code>, etc.) no serán accesibles para los usuarios web, con esto aumentamos
la seguridad de nuestro sitio web.</p>
<p>Las líneas 6-10 definen las reglas para la carpeta raíz de documentos (<code>APP_DIR/public</code>).
Por ejemplo, la directiva <code>DirectoryIndex</code> le dice a Apache que el archivo
<code>index.php</code> debe ser usado como el archivo index por defecto. La directiva
<code>AllowOverride All</code> permite definir reglas en el archivo <code>.htaccess</code>. La
directiva <code>Require all granted</code> permite a cualquiera visitar la página web.</p>
<blockquote class="notquote warning" data-type="warning"><p> Zend Framework 3 utiliza el módulo de reescritura de URL de Apache para
 redirigir a los usuarios web al punto de entrada de nuestro sitio web.
 Debemos asegurarnos que el servidor web tiene el módulo <code>mod_rewrite</code> habilitado.
 Para instrucciones sobre como habilitar el módulo podemos revisar el
 <a target="_blank" href="../Apéndice_A__Configurar_el_Entorno_de_Desarrollo_Web.html">Apéndice A. Configuración del Entorno de Desarrollo Web</a>.</p>
</blockquote><blockquote class="notquote tip" data-type="tip"><p> Después de editar el archivo de configuración no debemos olvidar reiniciar Apache
 para que se apliquen los cambios.</p>
</blockquote>        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Chapter - Bottom - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="1546211126"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
        <div class="current-chapter">
        <a href="../Zend_Skeleton_Application.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Zend Skeleton Application</span>
        </a>
    </div>
        <div class="prev-chapter">
        
        <a href="../Zend_Skeleton_Application/Dependencias_de_la_Aplicación.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Zend_Skeleton_Application/Abrir_el_Sitio_Web_en_Nuestro_Navegador_Web.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>        
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright (c) 2018 by Oleg Krivtsov            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a>
            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/loadCSS.js"></script>
<script src="../../assets/js/popup.js"></script>

<script src="../../assets/js/prism.js"></script>

<script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

