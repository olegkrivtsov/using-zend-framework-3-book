<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free and open-source book about Zend Framework">
<meta name="keywords" content="php,zend framework,book,tutorial,documentation,learn,free">
<meta name="author" content="(c) 2018 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>Пагинация (Pagination) -- Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free and open-source book about Zend Framework            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Home</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/zf3-api-reference/html/">Class Reference</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="../Управление_базой_данных_с_помощью_ORM_Doctrine/Реализация_облака_тегов.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Управление_базой_данных_с_помощью_ORM_Doctrine/Выводы.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>
        <div class="current-chapter">
        <a href="../Управление_базой_данных_с_помощью_ORM_Doctrine.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Управление базой данных с помощью ORM Doctrine</span>
        </a>
    </div>
    </div>

﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Book - Chapter - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="4531860323"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Chapter content -->
<div id="chapter_content">

<h2 id="Пагинация__Pagination_">12.15. Пагинация (Pagination)</h2>
<p>Пока что у нас всего несколько постов на нашей странице <em>Posts</em>. Но представьте, что там будет много (сотни) постов. Страница будет загружаться очень долго. Также будет 
очень неудобно прокручивать страницу, чтобы прочитать все посты. В такой ситуации нам будет полезна <em>пагинация (pagination)</em>. </p>
<blockquote class="notquote information" data-type="information"><p> <em>Пагинация</em> - это когда вы делите ваши результаты на страницы и перемещаетесь по страницам, кликая на ссылки с номерами страниц на виджете пагинации.</p>
</blockquote><p>Пример виджета пагинации, стилизованного при помощи Twitter Bootstrap представлен ниже:</p>
<p><span class="image-wrapper">
<a target="_blank" href="../../en/images/doctrine/paginator_example.png">
<img src="../../en/images/doctrine/paginator_example.png" alt="Рисунок 12.12. Пример виджета пагинации" /></a>
<span class="image-caption">Рисунок 12.12. Пример виджета пагинации</span>
</span>
 </p>
<h3 id="Пагинатор_из_Doctrine_ORM">12.15.1. Пагинатор из Doctrine ORM</h3>
<p>Компонент <em>Doctrine\ORM</em> предоставляет класс пагинатора под названием <code>Paginator</code>, живущий в пространстве имен <code>Doctrine\ORM\Tools\Pagination</code>. 
Он берет на вход объект Doctrine <code>Query</code> и предоставляет несколько методов, чтобы разбить результаты на страницы (для простоты, мы не будем
обсуждать здесь эти методы). Но модуль Doctrine ORM не предоставляет никаких помощников вида, чтобы визуализировать пагинатор. Для этих целей мы
можем воспользваться функциональностью для пагинации, которую предоставляет нам Zend Framework 3. </p>
<blockquote class="notquote information" data-type="information"><p> Хотя мы и планируем использовать компонент для пагинации из ZF3, мы все равно будем внутренне использовать пагинатор Doctrine ORM, чтобы подавать ему данные.
 Пагинатор ZF3 будет всего лишь оберткой для пагинатора Doctrine ORM.</p>
</blockquote><h3 id="ZF3_Paginator">12.15.2. ZF3 Paginator</h3>
<p>В Zend Framework 3, пагинация реализована внутри компонента <em>Zend\Paginator</em>. Если вы еще не установили этот компонент,
сделайте это сейчас, набрав следующую команду Composer:</p>
<pre class=""><code class="language-text">php composer.phar require zendframework/zend-paginator
</code></pre>
<p>Компонент <em>Zend\Paginator</em> предоставляет класс <code>Paginator</code>. Его наиболее полезные методы представлены в таблице 12.6:</p>
<div class="table-wrapper">
<div class="table-caption">Таблица 12.6. Методы класса Paginator из ZF3</div><table>
<thead>
<tr>
<th> <em>Метод</em>                            </th>
<th> <em>Описание</em>                                         </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>setDefaultScrollingStyle($scrollingStyle = 'Sliding')</code>  </td>
<td>  Устанавливает стиль скроллинга.        </td>
</tr>
<tr>
<td> <code>setDefaultItemCountPerPage($count)</code> </td>
<td> Устанавливает максимальное количество результатов на страницу.          </td>
</tr>
<tr>
<td> <code>setCurrentPageNumber($pageNumber)</code> </td>
<td> Устанавливает текущий номер страницы. </td>
</tr>
<tr>
<td> <code>count()</code> </td>
<td> Возвращает количество страниц.        </td>
</tr>
<tr>
<td> <code>getTotalItemCount()</code>  </td>
<td> Возвращает общее количество результатов.    </td>
</tr>
<tr>
<td> <code>getCurrentItems()</code> </td>
<td> Возвращает элементы с текущей страницы. </td>
</tr>
</tbody>
</table>
</div>
<p>Класс <code>Paginator</code> является очень "общим" и не знает ничего о нижележащей модели данных, так что вам нужно
иметь адаптер, который предоставляет данные пагинатору. Модуль <em>DoctrineORMModule</em> предоставляет такой
адаптер (класс <code>DoctrineORMModule\Paginator\Adapter\DoctrinePaginator</code>), который мы можем использовать, чтобы взять
данные из пагинатора ORM и передать их в пагинатор ZF3. </p>
<p>Для примера, предположим, что у нас есть объект класса <code>Query</code> с DQL-запросом, который выбирает все опубликованные посты. 
Чтобы разбить результаты на страницы, мы можем использовать следующий код:</p>
<pre class=""><code class="language-php">&lt;?php 
use DoctrineORMModule\Paginator\Adapter\DoctrinePaginator as DoctrineAdapter;
use Doctrine\ORM\Tools\Pagination\Paginator as ORMPaginator;
use Zend\Paginator\Paginator;

// Создаем ZF3 пагинатор.
$adapter = new DoctrineAdapter(new ORMPaginator($query, false));
$paginator = new Paginator($adapter);

// Устанавливаем номер страницы и размер страницы.
$paginator-&gt;setDefaultItemCountPerPage(10);        
$paginator-&gt;setCurrentPageNumber(1);

// Проходим по результатам с текущей страницы.
foreach ($paginator as $post) {
    // Делаем что-нибудь с текущим постом.
}
</code></pre>
<p>Теперь давайте применим этот пример к нашему блогу. Мы хотим отображать "пагинированные" посты на главной странице вебсайта Blog.</p>
<h4 id="Модифицируем_PostRepository">12.15.2.1. Модифицируем PostRepository</h4>
<p>Прежде всего нам потребуется немного изменить подход, с которым мы получаем список постов из репозитория. Раньше мы пользовались методом <code>findBy()</code> 
класса <code>EntityRepository</code>, который возвращает массив постов. Но теперь нам придется делать это с помощью метода нашего кастомного репозитория 
<code>PostRepository</code>, потому что пагинатор Doctrine ORM берет на вход объект <code>Query</code>, а не массив постов:</p>
<p>Добавьте следующий метод к классу <code>PostRepository</code>:</p>
<pre class=""><code class="language-php">public function findPublishedPosts()
{
    $entityManager = $this-&gt;getEntityManager();
    
    $queryBuilder = $entityManager-&gt;createQueryBuilder();
    
    $queryBuilder-&gt;select('p')
        -&gt;from(Post::class, 'p')
        -&gt;where('p.status = ?1')
        -&gt;orderBy('p.dateCreated', 'DESC')
        -&gt;setParameter('1', Post::STATUS_PUBLISHED);
    
    return $queryBuilder-&gt;getQuery();
}
</code></pre>
<p>И измените метод <code>findPostsByTag()</code> репозитория, так как мы также хотим, чтобы он возвращал объект <code>Query</code> вместо <code>array</code>:</p>
<pre class=""><code class="language-php">public function findPostsByTag($tagName)
{
    $entityManager = $this-&gt;getEntityManager();
    
    $queryBuilder = $entityManager-&gt;createQueryBuilder();
    
    $queryBuilder-&gt;select('p')
        -&gt;from(Post::class, 'p')
        -&gt;join('p.tags', 't')
        -&gt;where('p.status = ?1')
        -&gt;andWhere('t.name = ?2')
        -&gt;orderBy('p.dateCreated', 'DESC')
        -&gt;setParameter('1', Post::STATUS_PUBLISHED)
        -&gt;setParameter('2', $tagName);
    
    return $queryBuilder-&gt;getQuery();
}
</code></pre>
<blockquote class="notquote tip" data-type="tip"><p> Вам также придется немного изменить код метода <code>PostManager::getTagCloud()</code> так как он ожидает массив постов, а теперь он будет получать
 объект <code>Query</code>. Это довольно простая модификация, так что мы не будем ее описывать здесь (обратитесь к примеру Blog для полного кода). </p>
</blockquote><h4 id="Модифицируем_IndexController">12.15.2.2. Модифицируем IndexController</h4>
<p>Затем измените метод действия <code>indexAction()</code> контроллера <code>IndexController</code> следующим образом:</p>
<pre class="line-numbers"><code class="language-php">&lt;?php
namespace Application\Controller;

// Add aliases for paginator classes
use DoctrineORMModule\Paginator\Adapter\DoctrinePaginator as DoctrineAdapter;
use Doctrine\ORM\Tools\Pagination\Paginator as ORMPaginator;
use Zend\Paginator\Paginator;
// ...

class IndexController extends AbstractActionController 
{
    // ...
    
    public function indexAction() 
    {
        $page = $this-&gt;params()-&gt;fromQuery('page', 1);
        $tagFilter = $this-&gt;params()-&gt;fromQuery('tag', null);
        
        if ($tagFilter) {
         
            // Фильтруем посты по тегу
            $query = $this-&gt;entityManager-&gt;getRepository(Post::class)
                    -&gt;findPostsByTag($tagFilter);
            
        } else {
            // Получаем недавние посты
            $query = $this-&gt;entityManager-&gt;getRepository(Post::class)
                    -&gt;findPublishedPosts();
        }
        
        $adapter = new DoctrineAdapter(new ORMPaginator($query, false));
        $paginator = new Paginator($adapter);
        $paginator-&gt;setDefaultItemCountPerPage(1);        
        $paginator-&gt;setCurrentPageNumber($page);
                       
        // Получаем популярные теги.
        $tagCloud = $this-&gt;postManager-&gt;getTagCloud();
        
        // Отображаем шаблон представления.
        return new ViewModel([
            'posts' =&gt; $paginator,
            'postManager' =&gt; $this-&gt;postManager,
            'tagCloud' =&gt; $tagCloud
        ]);
    }
}
</code></pre>
<p>Вы можете заметить, что в строке 16 мы получаем номер текущей страницы (<code>page</code>) из параметра GET. Так что вы можете установить номер страницы результатов путем ввода
следующего URL в вашем браузере: "http://localhost/application/index?page=&lt;page&gt;". Номер страницы по умолчанию - 1.</p>
<p>В строках 22 и 27 мы извлекаем объект <code>Query</code> из нашего репозитория <code>PostRepository</code> вместо массива (<code>array</code>) постов.
Мы затем передаем этот объект <code>Query</code> пагинатору ZF3 в строке 31.</p>
<p>В строках 33-34 мы устанавливаем текущий номер страницы пагинатора и размер страницы.</p>
<p>В строке 41 мы передаем пагинатор (!) вместо массива постов в шаблон представления.</p>
<h4 id="Визуализация_виджета_пагинатора">12.15.2.3. Визуализация виджета пагинатора</h4>
<p>Теперь осталась последняя по порядку (но не по значению) часть работы. Нам нужно отобразить виджет пагинации в нашем шаблоне представления.</p>
<p>Чтобы сделать это с привлекательным оформлением Bootstrap, нам нужно будет сначала создать частичный шаблон представления
<em>view/application/partial/paginator.phtml</em> и поместить следующий код в этот файл:</p>
<pre class=""><code class="language-php">&lt;?php if ($this-&gt;pageCount): ?&gt;

&lt;nav&gt;
&lt;ul class="pagination"&gt;

&lt;!-- Previous page link --&gt;
&lt;?php if (isset($this-&gt;previous)): ?&gt;
    &lt;li&gt;
      &lt;a href="&lt;?= $this-&gt;url($this-&gt;route, [], ['query'=&gt;['page'=&gt;$this-&gt;previous]]); ?&gt;" aria-label="Previous"&gt;
        &lt;span aria-hidden="true"&gt;&amp;laquo;&lt;/span&gt;
      &lt;/a&gt;
    &lt;/li&gt;  
&lt;?php else: ?&gt;
    &lt;li&gt;
        &lt;span aria-hidden="true"&gt;&amp;laquo;&lt;/span&gt;      
    &lt;/li&gt;  
&lt;?php endif; ?&gt;

&lt;!-- Numbered page links --&gt;
&lt;?php foreach ($this-&gt;pagesInRange as $page): ?&gt;
  &lt;?php if ($page != $this-&gt;current): ?&gt;
    &lt;li&gt;
        &lt;a href="&lt;?= $this-&gt;url($this-&gt;route, [], ['query'=&gt;['page'=&gt;$page]]); ?&gt;"&gt;&lt;?= $this-&gt;escapeHtml($page); ?&gt;&lt;/a&gt;
    &lt;/li&gt;    
  &lt;?php else: ?&gt;
    &lt;li&gt;
        &lt;span aria-hidden="true"&gt;&lt;b&gt;&lt;?= $this-&gt;escapeHtml($page); ?&gt;&lt;/b&gt;&lt;/span&gt; 
    &lt;/li&gt;    
  &lt;?php endif; ?&gt;
&lt;?php endforeach; ?&gt;

&lt;!-- Next page link --&gt;
&lt;?php if (isset($this-&gt;next)): ?&gt;
    &lt;li&gt;
      &lt;a href="&lt;?php echo $this-&gt;url($this-&gt;route, [], ['query'=&gt;['page'=&gt;$this-&gt;next]]); ?&gt;" aria-label="Next"&gt;
        &lt;span aria-hidden="true"&gt;&amp;raquo;&lt;/span&gt;
      &lt;/a&gt;
    &lt;/li&gt;  
&lt;?php else: ?&gt;
    &lt;li&gt;
        &lt;span aria-hidden="true"&gt;&amp;raquo;&lt;/span&gt;      
    &lt;/li&gt; 
&lt;?php endif; ?&gt;
&lt;/ul&gt;
&lt;/nav&gt;
&lt;?php endif; ?&gt;
</code></pre>
<p>Частичный шаблон представления будет использован помощником представления <code>PaginationControl</code> ZF3, чтобы визуализировать виджет пагинатора. Как вы можете увидеть,
этот частичный шаблон представления берет на вход несколько переменных (<code>$pageCount</code>, <code>$pagesInRange</code>, <code>$current</code>, <code>$previous</code>, <code>$next</code>, <code>$route</code>),
которые используются, чтобы определить как будет выглядеть виджет.</p>
<p>Теперь давайте отобразим виджет в нашем шаблоне представления <em>view/application/index/index.phtml</em> под списком постов следующим образом:</p>
<pre class=""><code class="language-php">&lt;?= $this-&gt;paginationControl($posts,
            'Sliding',
            'application/partial/paginator', 
            ['route' =&gt; 'application']); ?&gt;
</code></pre>
<p>Помощник представления <code>PaginationControl</code> принимает четыре аргумента:</p>
<ul>
<li><code>$posts</code> - это объект <code>Paginator</code>, который мы передали из действия контроллера через контейнер переменных <code>ViewModel</code>.</li>
<li>аргумент "Sliding" - это стиль пагинатора. Для дополнительной информации о доступных стилях пагинации обратитесь к руководству Zend Framework.</li>
<li>"application/partial/paginator" - это имя частичного шаблона представления, содержащего разметку виджета.</li>
<li>четвертый аргумент может быть использован, чтобы передавать параметры в частичный шаблон представления. Например, мы передаем туда параметр <code>route</code>, который используется при генерации
кликабельных ссылок на страницы пагинатора.</li>
</ul>
<h4 id="Результаты">12.15.2.4. Результаты</h4>
<p>Ура! Наш блог готов теперь. Главная страница вебсайта теперь содержит красивый виджет пагинации (смотрите рис. 12.13 ниже):</p>
<p><span class="image-wrapper">
<a target="_blank" href="../../en/images/doctrine/main_page_paginator.png">
<img src="../../en/images/doctrine/main_page_paginator.png" alt="Рисунок 12.13. Главная страница с пагинатором" /></a>
<span class="image-caption">Рисунок 12.13. Главная страница с пагинатором</span>
</span>
  </p>
<blockquote class="notquote tip" data-type="tip"><p> В этой главе мы реализовали только простую пагинацию. Для реальных вебсайтов, дополнительно к пагинации, 
 вы можете также захотеть интерактивно сортировать ваши результаты по конкретным полям. Для такого сложного отображения табличных данных,
 рассмотрите возможность использования jQuery-плагина <a href="https://datatables.net/">DataTables</a> или <a href="http://www.jquery-bootgrid.com/">BootGrid</a>.</p>
</blockquote>        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Chapter - Bottom - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="1546211126"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
        <div class="current-chapter">
        <a href="../Управление_базой_данных_с_помощью_ORM_Doctrine.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Управление базой данных с помощью ORM Doctrine</span>
        </a>
    </div>
        <div class="prev-chapter">
        
        <a href="../Управление_базой_данных_с_помощью_ORM_Doctrine/Реализация_облака_тегов.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Управление_базой_данных_с_помощью_ORM_Doctrine/Выводы.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>        
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright (c) 2018 by Oleg Krivtsov            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a>
            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/loadCSS.js"></script>

<script src="../../assets/js/prism.js"></script>

<script>
$(document).ready(function() {

$(document).on('click', '#contact-close', function(event){
    event.preventDefault();
    setCookie('contact-cookie', '1', 30);
    $('#contact_popup').slideToggle();
});

if ($(document).width() < 640) {
    return; // Don't show this popup on small devices
}
 
var style = `
<style>
#contact_popup {
 width:360px;
 padding:20px;
 background:#4185f2;
 position:fixed;
 left:50%;
 margin-left: -180px;
 bottom:0;
 padding: 10px;
 display:none;
 -moz-border-radius-topleft:20px;
 -moz-border-radius-topright:20px;
 -webkit-border-top-left-radius:20px;
 -webkit-border-top-right-radius:20px;
}
#contact_popup h1 {
 margin-top: 0;
 color:#fff;
 font-size:20px;
}
#contact_popup p {
 margin:0;
 color:#fff;
}

.contact-btn {
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
}

.btn-yes {
    background-color: #4CAF50; /* Green */
}

.btn-no {
    background-color: red;
}
</style> 
`;

$('head').append(style);
 
 var popupDiv = `
<div id="contact_popup">
   <h1>Need Help with ZF3?</h1>
   
   <p>You can contact Oleg (author of this book) to get paid consulting and/or ZF3 development assistance.</p>
   <br>
   <p>
     <a class="contact-btn btn-yes" href="https://olegkrivtcov.wordpress.com/contact/">Contact now</a>&nbsp;&nbsp;<a id="contact-close" class="contact-btn btn-no" href="#">Not Now</a>
   </P>
 </div>
</div>`;
 
 $('body').append(popupDiv);

var cookie = getCookie('contact-cookie');

if (cookie)
    return; // Don't show this popup if user refused

if (Math.floor(Math.random() * 50) > 1) {
    return; // Show this popup in 2% of views
}

$('#contact_popup').slideToggle();
 
 function openPopup(hash) {
   $(hash + '_popup').slideToggle().addClass('open');
 }
 
 function openAndClose(hash) {
   if ($(hash + '_popup').hasClass('open')) {
     $($(hash + '_popup')).slideToggle().removeClass();
   } else {
     $('#container div.open').slideToggle().removeClass();
     $(hash + '_popup').slideToggle().addClass('open');
   }
 }
 
 function setCookie(name,value,days) {
    var expires = "";
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "")  + expires + "; path=/";
}

function getCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function eraseCookie(name) {   
    document.cookie = name+'=; Max-Age=-99999999;';  
}
 
});
</script><script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

