<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free and open-source book about Zend Framework">
<meta name="keywords" content="php,zend framework,book,tutorial,documentation,learn,free">
<meta name="author" content="(c) 2017 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>Separating Business Logic from Presentation -- Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free and open-source book about Zend Framework            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Read</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="../Model_View_Controller/Get_the_Hello_World_Example_from_GitHub.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Model_View_Controller/Controllers.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>
        <div class="current-chapter">
        <a href="../Model_View_Controller.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Model-View-Controller</span>
        </a>
    </div>
    </div>


<!-- Chapter content -->
<div id="chapter_content">

<h2 id="Separating_Business_Logic_from_Presentation">4.2. Separating Business Logic from Presentation</h2>
<p>A typical website has three kinds of functionality: code implementing business logic, 
code implementing user interaction and code rendering HTML pages (presentation). 
Before PHP frameworks, programmers usually merged these three types of code in a single
big PHP script file, which made it a pain to test and maintain such code, especially
when you write a large website. </p>
<p>Since that time, PHP became object-oriented, and now you can organize your code into classes.
The <em>Model-View-Controller</em> (MVC) pattern is just a set of advices telling you how to organize
your classes in a better manner, to make them easy to maintain. </p>
<p>In MVC, classes implementing your business logic are called <em>models</em>, code snippets
rendering HTML pages are called <em>views</em>, and the classes responsible for interacting with user
are called <em>controllers</em>. </p>
<blockquote class="notquote information" data-type="information"><p> Views are implemented as <em>code snippets</em>, not as classes. This is because
 views are typically very simple and contain only the mixture of HTML and inline PHP code.</p>
</blockquote><p>The main objective of the MVC concept is to separate the business logic (models) 
from its visualization (views). This is also called the <em>separation of concerns</em>, when each layer
does its specific tasks only.</p>
<p>By separating your models from views, you reduce the number of dependencies between them.
Therefore, changes made to one of the layers have the lowest possible impact on other 
layers. This separation also improves the <em>code reusability</em>. For example,
you can create multiple visual representations for the same models (changeable themes).</p>
<p>To better understand how this works, lets remember that any website is just a PHP
program receiving an HTTP request from the web server, and producing an HTTP response.
Figure 4.2 shows how an HTTP request is processed by the MVC application
and how the response is generated:</p>
<p><span class="image-wrapper">
<a target="_blank" href="../images/mvc/model-view-controller.png">
<img src="../images/mvc/model-view-controller.png" alt="Figure 4.2. HTTP request processing in an MVC web application" /></a>
<span class="image-caption">Figure 4.2. HTTP request processing in an MVC web application</span>
</span>
</p>
<ul>
<li><p>First, a website visitor enters a URL in his/her web browser, for example <em>http://localhost</em>, and the web browser
sends the request to the web server over the Internet.</p>
</li>
<li><p>Web server's PHP engine runs the <em>index.php</em> entry script. The only thing the entry script
does is creating the <code>Zend\Mvc\Application</code> class instance.</p>
</li>
<li><p>The application uses its <em>router</em> component for parsing the URL and determining 
to which controller to pass the request. If the route match is found, the 
controller is instantiated and its appropriate <em>action method</em> is called.</p>
</li>
<li><p>In the controller's action method, parameters are retrieved from 
GET and POST variables. To process the incoming data, the controller
instantiates appropriate model classes and calls their methods. </p>
</li>
<li><p>Model classes use business logic algorithms to process the input data 
and return the output data. The business logic algorithms are application-specific,
and typically include retrieving data from database, managing files, interacting
with external systems and so on.</p>
</li>
<li><p>The result of calling the models are passed to the corresponding 
view script for the rendering of the HTML page.</p>
</li>
<li><p>View script uses the model-provided data for rendering the HTML page.</p>
</li>
<li><p>Controller passes the resulting HTTP response to application.</p>
</li>
<li><p>Web server returns the resulting HTML web page to the user's web browser.</p>
</li>
<li><p>The user sees the page in browser window. </p>
</li>
</ul>
<p>Now you might have some idea how models, views and controllers cooperate
to generate HTML output. In the next sections, we describe them in more details.</p>
        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
ï»¿<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="WWATBCMWZJXS2">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/ru_RU/i/scr/pixel.gif" width="1" height="1">
</form>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
        <div class="current-chapter">
        <a href="../Model_View_Controller.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Model-View-Controller</span>
        </a>
    </div>
        <div class="prev-chapter">
        
        <a href="../Model_View_Controller/Get_the_Hello_World_Example_from_GitHub.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Model_View_Controller/Controllers.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>        
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright (c) 2017 by Oleg Krivtsov            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a>
            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/loadCSS.js"></script>

<script src="../../assets/js/prism.js"></script>

<script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

