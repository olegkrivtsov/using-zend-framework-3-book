<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free and open-source book about Zend Framework">
<meta name="keywords" content="php,zend framework,book,tutorial,documentation,learn,free">
<meta name="author" content="(c) 2016 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>Other Route Types -- Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free and open-source book about Zend Framework            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Read</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="../Routing/Regex_Route_Type.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Routing/Extracting_Parameters_from_Route.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>
        <div class="current-chapter">
        <a href="../Routing.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Routing</span>
        </a>
    </div>
    </div>

﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Book - Chapter - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="4531860323"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Chapter content -->
<div id="chapter_content">

<h2 id="header-114">5.8. Other Route Types</h2>
<p>The <em>Hostname</em>, <em>Scheme</em>, and <em>Method</em> route types are used less commonly
compared to the route types mentioned previously.</p>
<h3 id="header-115">5.8.1. Hostname</h3>
<p>The <em>Hostname</em> route type can be used, for example, if you develop a content 
management system (CMS) <sup id="fnref:cms"><a href="#fn:cms" class="footnote-ref" rel="footnote">7</a></sup> engine, which should serve several websites at once,
each site using a different sub-domain. In that case you will define the <em>Hostname</em> 
route as the parent, and nest child routes of other types inside of it:</p>
<footnotes id="fn:cms"><p><sup>7)</sup> A Content Management System (CMS) is a website allowing for collaborative creating, editing and 
publishing content (blogs, pages, documents, videos etc.) using a centralized web interface. 
CMS systems make it possible for non-programmers to perform the website's daily tasks, like
content publishing.</p>
</footnotes>
<pre class="line-numbers"><code class="language-php">'routename' =&gt; [
  'type' =&gt; Hostname::class,
  'options' =&gt; [
    'route' =&gt; ':subdomain.yourserver.com',
    'constraints' =&gt; [
        'subdomain' =&gt; '[a-zA-Z][a-zA-Z0-9_-]*'
    ],
	'defaults' =&gt; [        
    ],
  ],
  'child_routes'=&gt;[
    //...
  ],
],
</code></pre>
<p>In the example above, in line 1 we define the route which
has the <em>Hostname</em> type. The <code>route</code> option (line 4) defines
the domain name to match against. The <code>:subdomain</code> is a wildcard,
which can take different sub-domain values. The <code>constraints</code> key defines the regular expression
this sub-domain parameter must match. The <em>Hostname</em> route will differentiate your 
domains, so each site will behave differently, depending on the value of the
<code>subdomain</code> parameter returned:</p>
<pre class=""><code class="language-php">// An example of an action that uses parameters returned by 
// Hostname route.
public function someAction() 
{
  // Get the 'subdomain' parameter from the route.
  $subdomain = $this-&gt;params()-&gt;fromRoute('subdomain', null);
  
  // Use different logic based on sub-domain.
  //...		
		
  // Render the view template.
  return new ViewModel();
}
</code></pre>
<h3 id="header-116">5.8.2. Scheme</h3>
<p>The <em>Scheme</em> route type is useful if you need to handle HTTP and HTTPS <sup id="fnref:https"><a href="#fn:https" class="footnote-ref" rel="footnote">8</a></sup> protocols
in different ways. </p>
<footnotes id="fn:https"><p><sup>8)</sup> The HTTPS protocol is typically used for secure connections, like account page 
or shopping cart page. When you use HTTPS, the request data is tunnelled through Secure Socket Layer (SSL) channel
and not available to third parties.</p>
</footnotes>
<p>The typical <em>Scheme</em> route configuration is presented below:</p>
<pre class="line-numbers"><code class="language-php">'routename' =&gt; [
  'type' =&gt; Scheme::class,
  'options' =&gt; [
    'scheme' =&gt; 'https',
    'defaults' =&gt; [
        'https' =&gt; true,
    ],    
  ],
  'child_routes'=&gt;[
    //...
  ],
],
</code></pre>
<p>Above, we define the route of type <em>Scheme</em>. It takes the <code>scheme</code> option,
which should be the scheme to match against (like <code>http</code> or <code>https</code>).
If the scheme in HTTP request's URL is exactly the same as the <code>scheme</code> option,
the route is considered matching. You can use the <code>defaults</code> key to return some
parameters on route match. In the example above, the <code>https</code> boolean parameter 
will be returned.</p>
<h3 id="header-117">5.8.3. Method</h3>
<p>The <em>Method</em> route type can be used if you need to direct <em>GET</em> and <em>POST</em> requests
into different controller's actions. Its typical configuration is presented below:</p>
<pre class="line-numbers"><code class="language-php">'routename' =&gt; [
  'type' =&gt; Method::class,
  'options' =&gt; [
    'verb' =&gt; 'post',
    'defaults' =&gt; [        
    ],
  ],
  'child_routes'=&gt;[
    //...
  ],
],
</code></pre>
<p>Above, we define the route which has the <em>Method</em> type. It takes the <code>verb</code> option,
which may be the comma-separated list of acceptable HTTP verbs (like <em>get</em>, <em>post</em>, <em>put</em>, etc.)</p>
        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
﻿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Chapter - Bottom - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="1546211126"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
        <div class="current-chapter">
        <a href="../Routing.html">
            <img alt="Contents" src="../../assets/images/upload.png"><span class="nav-btn-text">Routing</span>
        </a>
    </div>
        <div class="prev-chapter">
        
        <a href="../Routing/Regex_Route_Type.html">
            <img alt="Previous Chapter" src="../../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="../toc.html">
            <img alt="Contents" src="../../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="../Routing/Extracting_Parameters_from_Route.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../../assets/images/right.png">
        </a>
            </div>        
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright (c) 2016 by Oleg Krivtsov            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a> on 2016-09-09 at 11:24            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/loadCSS.js"></script>

<script src="../../assets/js/prism.js"></script>

<script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

